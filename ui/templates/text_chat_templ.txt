<script>\n\t\tdocument.addEventListener(\"DOMContentLoaded\",(e)=> {\n\t\t\tlet chatForm = document.querySelector(\"#chat_form\")\n\t\t\t\n\t\t\tif(chatForm) {\n\t\t\t\tchatForm.addEventListener('htmx:wsAfterSend', function(evt) {\n\t\t\t\t\tlet chatMessage = chatForm.querySelector(\"#chat_message\")\n\t\t\t\t\tif(chatMessage){\n\t\t\t\t\t\tchatMessage.value = \"\"\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t})\n\t</script>
<div class=\"min-h-24 max-h-52 shadow-sm shadow-chatopia-2 p-2 rounded-md\" hx-ext=\"ws\" ws-connect=\"/chat-ws\"><div id=\"connection_status\"><p>Connecting...</p></div><div id=\"chat_bubbles\" class=\"flex flex-col gap-1 pb-2\"></div><div><form id=\"chat_form\" class=\"flex items-end gap-2\" ws-send hx-trigger=\"submit\"><input type=\"hidden\" name=\"message_type\" value=\"chat_message\"> <textarea id=\"chat_message\" name=\"chat_message\" class=\"rounded-md text-chatopia-2 p-2 resize\" maxlength=\"150\"></textarea> <button id=\"send_chat_button\" type=\"submit\" class=\"px-2 bg-chatopia-1 text-chatopia-2 rounded-md\">Send</button></form></div></div>
<div id=\"chat_bubbles\" hx-swap-oob=\"beforeend\"><div class=\"flex gap-1\">
<p class=\"text-blue-500\">You:</p>
<p class=\"text-red-500\">Stranger:</p>
<p>
</p></div></div>
